/*--變數宣告-*/
//遊戲狀態，以便進行流程控制
const GAME_STATE = {
  GameStart: "GameStart",
  FirstCardAwaits: "FirstCardAwaits",
  SecondCardAwaits: "SecondCardAwaits",
  CardsMatchFailed: "CardsMatchFailed",
  CardsMatched: "CardsMatched",
  GameFinished: "GameFinished"
};

//撲克牌牌面符號
const Symbols = [
  "https://www.svgrepo.com/show/320181/spades.svg", // 黑桃
  "https://www.svgrepo.com/show/59885/heart.svg", // 愛心
  "https://www.svgrepo.com/show/69107/diamond.svg", // 方塊
  "https://www.svgrepo.com/show/364387/club-fill.svg" // 梅花
];

//#region  MVC模式之V--view物件(與介面相關程式歸類處)
const view = {
  /**屬性：產生牌背
   *  1. 將傳入的洗牌後的牌面數字陣列內元素放置自行設定的資料屬性(data-index)中
   * 2. 回傳該元素的牌背html結構
   * @param {*} index  洗牌後的牌面數字陣列內元素
   */
  getCardElement(index) {
    return `<div data-index="${index}" class="card back"></div>`;
  },

  /**屬性：顯示卡牌數字與花色
   * 1. 呼叫本身所屬物件(view也就是this)的transformNumber (純數字)將該數字轉換為卡牌數字
   * 2. 找出該數字對應的卡牌花色
   * 3. 回傳卡牌正面的html結構
   * @param {*} index
   */
  getCardContent(index) {
    const number = this.transformNumber((index % 13) + 1);
    const symbol = Symbols[Math.floor(index / 13)];

    return `
        <p>${number}</p>
        <img src="${symbol}" />
        <p>${number}</p>
        `;
  },

  /**純數字轉換為卡牌數字
   * switch case return 判斷該數字對應的卡牌數字為何後回傳
   * @param {*} number 數字
   */
  transformNumber(number) {
    switch (number) {
      case 1:
        return "A";
      case 11:
        return "J";
      case 12:
        return "Q";
      case 13:
        return "K";
      default:
        return number;
    }
  },

  /**屬性：顯示洗牌後的所有卡牌
   * 1. 抓取所有卡牌的放置跟節點DOM(<div id=''cards></div>)
   * 2. 在跟節點放入每一張卡片
   *      2.1 將原始的洗牌後的牌面數字陣列藉由map重新組合成一個新的洗牌後卡牌html結構陣列(indexes.map(index => this.getCardElement(index)))
   *            2.1.1 map循環取出每一個洗牌後的牌面數字陣列內元素
   *            2.1.2 呼叫所屬物件(view也就是this)的getCardElement(洗牌後的牌面數字陣列內元素)屬性，產生屬於該元素的牌背html結構
   *      2.2 再藉由join('')將新的洗牌後卡牌html結構陣列內所有元素合併成一個字串
   * @param {*} indexes 洗牌後的牌面數字陣列
   */
  displayCards(indexes) {
    const rootElement = document.querySelector("#cards");
    rootElement.innerHTML = indexes
      .map((index) => this.getCardElement(index))
      .join("");
  },

  /**屬性：翻牌
   * 1. 將傳入的單一或數個卡牌html結構值(<div data-index="${index}" class="card back">...</div>)
   *    藉由 ... 組合成卡牌html結構陣列([div.card.back]或[div.card, div.card])
   * 2. map 循環卡牌html結構陣列，取出每一個陣列內元素
   *      2.1 該元素的class包含'back'
   *            2.1.1 移除'back'
   *            2.1.2 呼叫所屬物件(view也就是this)的getCardContent(將該卡牌的data-index資料屬性內容轉為數字)屬性顯示該元素花色與數字
   *            2.1.3 跳出此函示
   *      2.2 該元素的class不包含'back'，加回'back'重新顯示該元素的背面並清空該元素的數字與花色
   * @param  {...any} cards 要翻牌的卡牌html結構(第一次翻牌、第二次翻牌或配對失敗的卡牌組合)
   */
  flipCards(...cards) {
    cards.map((card) => {
      if (card.classList.contains("back")) {
        card.classList.remove("back");
        card.innerHTML = this.getCardContent(Number(card.dataset.index));
        return;
      }
      card.classList.add("back");
      card.innerHTML = null;
    });
  },

  /**屬性：配對成功
   * 1. map循環配對成功的卡牌html結構陣列
   * 2. 每一個元素的class皆新增'paired'
   * @param {*} cards 配對卡牌的html結構陣列
   */
  pairCards(cards) {
    cards.map((card) => {
      card.classList.add("paired");
    });
  },

  /**屬性：顯示總成績
   * 修改頁面上的總成績
   * @param {*} score  總成績
   */
  renderScore(score) {
    document.querySelector(".score").textContent = `Score: ${score}`;
  },

  /**屬性：顯示嘗試總次數
   * 修改頁面上的嘗試總次數
   * @param {*} times 嘗試總次數
   */
  renderTriedTimes(times) {
    document.querySelector(
      ".tried"
    ).textContent = `You've tried: ${times} times`;
  },

  renderRound(round) {
    document.querySelector(".round").textContent = `Round: ${round}`;
  },
  /**屬性：配對失敗
   * 1. map循環配對失敗的卡牌html結構陣列
   * 2. 每一個元素的class皆新增'wrong'，開始跑動畫
   * 3. 每一個元素皆掛載動畫結束事件(animationend)的監聽器，當動畫結束時，class移除'wrong'，且該監聽器使用一次後就自動卸載(addEventListener的第三個參數設定：{ once: true })
   * @param {*} cards 配對卡牌的html結構陣列
   */
  appendWrongAnimation(cards) {
    cards.map((card) => {
      card.classList.add("wrong");
      card.addEventListener(
        "animationend",
        (event) => event.target.classList.remove("wrong"),
        { once: true }
      );
    });
  },

  /**屬性：遊戲開始
   * 顯示遊戲規則
   */
  showGameStart() {
    const div = document.createElement("div");
    div.classList.add("start");
    div.innerHTML = `            
            <div class="bannerTitle">
                <img src="https://www.svgrepo.com/show/149260/poker-playing-cards.svg">
                <h2>Game Rule</h2>
            </div>
            <ul>
                <li>
                    <img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTIxNy4zNjEgMTgxLjIyYzEzLjE5IDAgMjMuOTIyLTExLjYwOCAyMy45MjItMjUuODc3cy0xMC43MzEtMjUuODc2LTIzLjkyMi0yNS44NzYtMjMuOTIzIDExLjYwOC0yMy45MjMgMjUuODc2IDEwLjczMiAyNS44NzcgMjMuOTIzIDI1Ljg3N3ptMC0zNi43NTNjNC45MiAwIDguOTIyIDQuODc5IDguOTIyIDEwLjg3NiAwIDUuOTk4LTQuMDAyIDEwLjg3Ny04LjkyMiAxMC44NzdzLTguOTIzLTQuODc5LTguOTIzLTEwLjg3N2MwLTUuOTk3IDQuMDAzLTEwLjg3NiA4LjkyMy0xMC44NzZ6Ii8+PHBhdGggZD0ibTE0OC40OCAxNTEuODQ5YzQuMTQzIDAgNy41LTMuMzU4IDcuNS03LjUgMC0zLjQ1NSAyLjgxMS02LjI2NSA2LjI2NS02LjI2NSAzLjQ1NSAwIDYuMjY2IDIuODExIDYuMjY2IDYuMjY1IDAgNC4xNDIgMy4zNTcgNy41IDcuNSA3LjVzNy41LTMuMzU4IDcuNS03LjVjMC0xMS43MjYtOS41NC0yMS4yNjUtMjEuMjY2LTIxLjI2NXMtMjEuMjY1IDkuNTQtMjEuMjY1IDIxLjI2NWMwIDQuMTQyIDMuMzU3IDcuNSA3LjUgNy41eiIvPjxwYXRoIGQ9Im0yNjUuMDI1IDE0NC4zNDljMC0zLjQ1NSAyLjgxMS02LjI2NSA2LjI2NS02LjI2NSAzLjQ1NSAwIDYuMjY2IDIuODExIDYuMjY2IDYuMjY1IDAgNC4xNDIgMy4zNTcgNy41IDcuNSA3LjVzNy41LTMuMzU4IDcuNS03LjVjMC0xMS43MjYtOS41NC0yMS4yNjUtMjEuMjY2LTIxLjI2NXMtMjEuMjY1IDkuNTQtMjEuMjY1IDIxLjI2NWMwIDQuMTQyIDMuMzU3IDcuNSA3LjUgNy41czcuNS0zLjM1OCA3LjUtNy41eiIvPjxwYXRoIGQ9Im00MDMuNjU4IDE0Ny42MDRjLTguNzg2LTE1LjIxNi0zMC4yNjUtMzkuNDI2LTc3LjEyMy0zNy4zMDV2LTQwLjY3YzAtMzguNTAyLTMxLjI3OC02OS42MjktNjkuNjE2LTY5LjYyOS0xOC42NjMgMC0zNi44MzcgNy42NjMtNDkuODU4IDIxLjAyM2wtNTcuODIxIDU5LjMwM2MtMi44OTIgMi45NjYtMi44MzEgNy43MTQuMTM1IDEwLjYwNnM3LjcxNSAyLjgzIDEwLjYwNS0uMTM0bDU3LjgyMi01OS4zMDRjMTAuMjE2LTEwLjQ4MiAyNC40NzMtMTYuNDk0IDM5LjExNy0xNi40OTQgMzAuMTU4IDAgNTQuNjE2IDI0LjQ4NSA1NC42MTYgNTQuNjI4djE1Ni42MDRjLTI5LjYzMiAyNC40MS03My42MjEgNDguNzI4LTEwOS4yNDkgNTcuOTM2di02OS4zMjZsMS44MDQtMS44MDRjMi45MjktMi45MjkgMi45MjktNy42NzggMC0xMC42MDYtMi45My0yLjkyOS03LjY3OC0yLjkyOS0xMC42MDcgMGwtMi42NDYgMi42NDdjLTE4LjE2IDUuMDU3LTM4LjM2NS41OTEtNTIuODItMTMuNTA3LTIwLjA2Mi0xOS41NjEtMjQuMjU3LTUzLjM3NCAxLjAyLTc5LjI5MyAyLjg5My0yLjk2NSAyLjgzMy03LjcxNC0uMTMzLTEwLjYwNi0yLjk2Ni0yLjg5My03LjcxNC0yLjgzMi0xMC42MDUuMTMzLTMzLjUgMzQuMzUyLTI1Ljg4NSA4Mi4wNjcgNS44NDEgMTA2LjE2NC0zMC40ODYgMzEuNzc5LTQ4LjE5NSA3Mi4wMTYtMjYuMDg4IDExMC4zMDMgMTQuMzMyIDI0LjgyNSAzOC41NjQgMzcuMzUyIDcwLjc1MyAzNy4zNSAyLjc2OCAwIDUuNTk5LS4wOTkgOC40ODMtLjI4NXYxNy40MTJoLTExLjEzOGMtMzguMzkyIDAtNjkuNjI1IDMxLjIzMy02OS42MjUgNjkuNjI1czMxLjIzMSA2OS42MjUgNjkuNjIzIDY5LjYyNWgxNjEuNTIzYzE2LjUxIDAgMzIuNzM2LTUuNzkgNDUuNzgyLTE3LjE4IDMuMTItMi43MjQgMy40NDEtNy40NjIuNzE3LTEwLjU4My0yLjcyMy0zLjEyMS03LjQ2MS0zLjQ0MS0xMC41ODItLjcxNy0xMC4yMjQgOC45MjYtMjIuOTUyIDEzLjQ4LTM1LjkxNyAxMy40OGgtMTYxLjUyM2MtMzAuMTIgMC01NC42MjUtMjQuNTA0LTU0LjYyNS01NC42MjVzMjQuNTA1LTU0LjYyNSA1NC42MjUtNTQuNjI1aDE1LjUzMWwxLjgwMyAxLjgwM2MyLjkzIDIuOTI5IDcuNjc4IDIuOTI5IDEwLjYwNyAwczIuOTI5LTcuNjc4IDAtMTAuNjA2bC0xLjgwNC0xLjgwNHYtMjMuNTI2YzM2LjkxMS01Ljk3MSA3Ny40NDQtMjQuODM5IDEwOS4yNDktNDQuMjIydjY3Ljc0OGwtMS44MDQgMS44MDRjLTIuOTI5IDIuOTI5LTIuOTI5IDcuNjc4IDAgMTAuNjA2IDIuOTMgMi45MjkgNy42NzggMi45MjkgMTAuNjA3IDBsMS44MDMtMS44MDNoMTUuNTNjMzAuMTIgMCA1NC42MjUgMjQuNTA0IDU0LjYyNSA1NC42MjUgMCA2LjgyNy0xLjI0MSAxMy40OC0zLjY4OSAxOS43NzYtMS41MDEgMy44NjEuNDExIDguMjA3IDQuMjcyIDkuNzA4IDMuODU1IDEuNSA4LjIwNS0uNDA4IDkuNzA4LTQuMjcyIDMuMTI1LTguMDM2IDQuNzA5LTE2LjUxOSA0LjcwOS0yNS4yMTIgMC0zOC4zOTEtMzEuMjMzLTY5LjYyNS02OS42MjUtNjkuNjI1aC0xMS4xMzd2LTcyLjk0OWM1NS4yNzgtMzcuMDg3IDExMC41NjktOTQuMjcyIDc3LjEyNS0xNTIuMTk3em0tNzcuMTIzIDMwLjkxYzEyLjAwMS0xLjE1OCAxNy4wMzEgMS4yODMgMTguMTE0IDMuMTU5IDIuMDM1IDMuNTI0LTEuNzQyIDE0LjUwOC0xOC4xMTQgMzAuOTl6bS0xMS42OTQgMTExLjA0N2MtNTguMTQ0IDM4LjEzMS0xNTkuMTY2IDgxLjIwOC0xOTMuODAyIDIxLjIxMi04LjkwNi0xNS40MjUtMTcuODYxLTQ3LjcwOSAyMi4yMjEtOTAuNjI0IDEuMzAzLTEuMzk1IDIuNjgyLTIuODIyIDQuMTE1LTQuMjY1IDEyLjYyMSA1LjczMyAyNi41NTUgNy40NjggMzkuOTExIDUuMzExdjkuNjhjLTE4LjI2NCAxNS41ODktNDMuOTkgNDIuMTc0LTMzLjIxOCA2MC44MzEgMjcuMjY0IDQ3LjIxNiAyMzAuODU3LTcwLjI3MSAyMDMuNTcxLTExNy41MzItNC44NTQtOC40MDQtMTUuMzA5LTExLjk3OS0zMS4xMDQtMTAuNzA3di0zOC4xNTdjMzcuNDM5LTEuOTM2IDU1LjUxMiAxNC44NjIgNjQuMTMzIDI5Ljc5NSAyOS4wNDggNTAuMzEzLTI3LjQ3MyAxMDIuODkxLTc1LjgyNyAxMzQuNDU2em0tMTI3LjU1NS0zOC40MDh2MzUuOTc5Yy0xMy40NzkgMS42NzQtMTkuMDU1LS44OTctMjAuMjI4LTIuOTI3LTIuMjk2LTMuOTc4IDIuOTg2LTE2LjIyNCAyMC4yMjgtMzMuMDUyeiIvPjxwYXRoIGQ9Im00NDEuNTEgMTYzLjA0NGMtMi4yNS0xMC40NTMtNi4yNDQtMjAuNjk1LTExLjg3Mi0zMC40NDEtMy43MzQtNi40NjgtMTAuMzgxLTE2LjExOS0yMC44MzYtMjUuMzYyLTMuMTA0LTIuNzQzLTcuODQ0LTIuNDUyLTEwLjU4Ny42NTFzLTIuNDUyIDcuODQzLjY1MSAxMC41ODdjOC45NDEgNy45MDQgMTQuNjA0IDE2LjEyMiAxNy43ODEgMjEuNjI0IDQuODQ2IDguMzkzIDguMjc3IDE3LjE3NCAxMC4xOTggMjYuMDk5Ljc1NyAzLjUxNyAzLjg2NyA1LjkyMyA3LjMyNCA1LjkyMy41MjMgMCAxLjA1NS0uMDU1IDEuNTg2LS4xNjkgNC4wNTEtLjg3MyA2LjYyNy00Ljg2MiA1Ljc1NS04LjkxMnoiLz48cGF0aCBkPSJtMTEzLjEwOSAzNTguMjMyYzIuNzc2LTMuMDc0IDIuNTM2LTcuODE2LS41MzgtMTAuNTkzLTYuNzc4LTYuMTIzLTEyLjY3MS0xMy40OC0xNy41MTMtMjEuODY4LTMuMTk2LTUuNTM1LTcuNTA3LTE0LjU3My05Ljg5MS0yNi4xOTYtLjgzMi00LjA1Ny00Ljc5NS02LjY3MS04Ljg1NC01Ljg0LTQuMDU4LjgzMi02LjY3MyA0Ljc5Ni01Ljg0IDguODU0IDIuNzg3IDEzLjU5MSA3Ljg0MyAyNC4xODcgMTEuNTk0IDMwLjY4MyA1LjYyNiA5Ljc0NSAxMi41MDYgMTguMzI0IDIwLjQ0OCAyNS40OTggMy4wNzMgMi43NzcgNy44MTcgMi41MzcgMTAuNTk0LS41Mzh6Ii8+PC9nPjwvc3ZnPg==" />
                    不論花色，找出牌面數字相同的兩張卡片即配對成功
                </li>
                <li>
                    <img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTMyOC43IDQ4My4wNGMtOS4wODMgOS4wMDItMjEuMTMgMTMuOTYtMzMuOTIgMTMuOTZoLTE2Ny4wNjJjLTM5LjIyOCAwLTYyLjQ3LTQ1LjIwNi0zOC41NS03Ny4xbDE1MC4zOTktMjAwLjUyM2M0LjYwNS02LjE0IDcuMDQtMTMuNDIgNy4wNC0yMS4wNTIgMC0zNi41MzctNDguMDEyLTQ4LjgyLTY1Ljk5OC0xNy43NTEtMTMuMTE1IDIyLjY2NC00Mi40OTMgMzEuMDg3LTY1Ljg0MSAxNy41NzQtMjIuNjUxLTEzLjEwNy0zMS4wOTMtNDIuNDg0LTE3LjU3NC02NS44NDIgNS41MjgtOS41NTMgMTIuMjY2LTE4LjM5NiAyMC4wMjQtMjYuMjg0IDIuOTA1LTIuOTUzIDIuODY2LTcuNzAyLS4wODctMTAuNjA2cy03LjcwMS0yLjg2Ny0xMC42MDYuMDg3Yy04LjY0NiA4Ljc4OS0xNi4xNTIgMTguNjQ0LTIyLjMxMyAyOS4yOS0xNy43MTMgMzAuNjA5LTYuNjczIDY5LjE0MiAyMy4wNDMgODYuMzM3IDMwLjYwNiAxNy43MTUgNjkuMTQzIDYuNjczIDg2LjMzNy0yMy4wNDIgMTAuMjQ0LTE3LjY5NCAzOC4wMTYtMTEuMTY5IDM4LjAxNiAxMC4yMzcgMCA0LjM2MS0xLjM5NiA4LjUyOC00LjA0IDEyLjA1MmwtMTUwLjQgMjAwLjUyM2MtMzEuMTgxIDQxLjU3NC0xLjQ0MSAxMDEuMSA1MC41NSAxMDEuMWgxNjcuMDYyYzE2Ljc3MiAwIDMyLjU2OC02LjUwMSA0NC40NzktMTguMzA3IDIuOTQyLTIuOTE2IDIuOTY0LTcuNjY1LjA0OC0xMC42MDYtMi45MTctMi45NDItNy42NjYtMi45NjQtMTAuNjA3LS4wNDd6Ii8+PHBhdGggZD0ibTE0Mi4yOSAxMjEuMzA4Yy0uMDAyIDAtLjAwNCAwLS4wMDYgMC00LjE0Mi4wMDMtNy40OTcgMy4zNjMtNy40OTQgNy41MDVsLjAwOSAxMS44NzZjLjAwMyA0LjE0MSAzLjM2IDcuNDk1IDcuNSA3LjQ5NWguMDA2YzQuMTQyLS4wMDMgNy40OTctMy4zNjMgNy40OTQtNy41MDVsLS4wMDktMTEuODc2Yy0uMDAzLTQuMTQxLTMuMzYtNy40OTUtNy41LTcuNDk1eiIvPjxwYXRoIGQ9Im0yOTQuOTM5IDEyNC44MzVjMi43MjItMy4xMjMgMi4zOTctNy44Ni0uNzI2LTEwLjU4Mi0zLjAwMy0yLjYxOC03LjQ5OS0yLjQxNy0xMC4yNjIuMzgtMi4yODMuOTA2LTEwLjEzNi4wMTEtMTYuNDg3LTEuOTAzLTMuOTY3LTEuMjAyLTguMTUxIDEuMDM1LTkuMzU1IDQuOTk4LTEuMDU0IDMuNDcyLjUzMyA3LjExNiAzLjYwNyA4Ljc3Ni0uMjEuNjkyLS4zMjUgMS40MjUtLjMyNCAyLjE4NmwuMDEgMTEuODc2Yy4wMDMgNC4xNCAzLjM2IDcuNDk0IDcuNSA3LjQ5NGguMDA2YzQuMTQzLS4wMDMgNy40OTctMy4zNjQgNy40OTQtNy41MDZsLS4wMDktMTAuNzY1YzEuMzMzLjEyMyAyLjY4NC4xOTcgNC4wMjcuMTk3IDUuNjMtLjAwMSAxMS4xMTctMS4yNDkgMTQuNTE5LTUuMTUxeiIvPjxwYXRoIGQ9Im0xNjYuMjkzIDExNS4xOWMyLjM2Ni0zLjQgMS41MjctOC4wNzQtMS44NzMtMTAuNDM5LTcuNTYxLTUuMjYyLTI0LjQ2NS0xMS42NzUtMzQuMzIyIDEuNzA5LTIuNDU2IDMuMzM1LTEuNzQzIDguMDMgMS41OTIgMTAuNDg2IDMuMzM0IDIuNDU2IDguMDMgMS43NDMgMTAuNDg2LTEuNTkyIDMuNjI2LTQuOTIgMTMuNTM0IDEuNjEzIDEzLjcwMyAxLjcyNyAzLjM5NCAyLjM0MyA4LjA1NCAxLjUwMyAxMC40MTQtMS44OTF6Ii8+PHBhdGggZD0ibTE5Ni4zIDE1MS44N2guMTMxYzcuNjcgMCAyMy40MTQtLjAyOCAzNS41MTktNC45NzYgMy44MzQtMS41NjcgNS42NzItNS45NDYgNC4xMDQtOS43OC0xLjU2Ni0zLjgzNC01Ljk0Ni01LjY3Mi05Ljc4LTQuMTA0LTkuNDQ1IDMuODYyLTIzLjg0MiAzLjktMjkuOTczIDMuODYxaC0uMTE4Yy00LjE0MyAwLTcuNSAzLjM1OC03LjUgNy41czMuMzU3IDcuNSA3LjUgNy41aC4xMTd6Ii8+PHBhdGggZD0ibTQ0NC4wNDUgMTg2LjM3N2MtOS4zMTctMTMuODI5LTIzLjg2OS0yMi45NC00MC4wNS0yNS40MTggMjEuMTAyLTQxLjU1NiAxNS4xMTctOTIuMzQtMjEuMDU2LTEyOC41MTYtMjEuNDY3LTIxLjQ2Ny01MC4wMzktMzIuNDQzLTc3Ljk1NS0zMi40NDMtMjkuMDI2IDAtNTguMTg0IDEwLjg4NC04MC4zNzIgMzMuMDcxLTYuMTA3IDYuMTA3LTExLjEwNCAxMC4wODYtMTMuMjEzIDE4LjQzMS0yOC41MjItLjAzNS01Ni4zNjggOC4yNTItODAuNDcxIDI0LjAxNC0zLjQ2NyAyLjI2Ny00LjQzOSA2LjkxNS0yLjE3MyAxMC4zODIgMi4yNjggMy40NjcgNi45MTggNC40MzkgMTAuMzgyIDIuMTcyIDg2LjEyNS01Ni4zMjEgMTk4LjI4OCAzLjk5NCAyMDMuNjMxIDEwMy4wNDQtMjMuMzQ2IDE4LjA4Mi0zMS4yMTkgNDkuNTc2LTE5LjQ5IDc2LjQwOS00LjM3NCA3LjA0NCAxLjMwNS0uODctOTkuODQgMTMzLjk3Ni0yLjQ4NSAzLjMxNC0xLjgxMyA4LjAxNSAxLjUgMTAuNSAzLjMxMSAyLjQ4NCA4LjAxMyAxLjgxNSAxMC41LTEuNWw3LjQwNy05Ljg3NWg1MS45MzVjMzEuMjQ5IDAgNTQuNTIyIDI5LjU0OSA0Ni42ODUgNjAuMTgyLTEuMjEyIDQuNzMyIDIuMzYxIDkuMzYyIDcuMjcxIDkuMzYyIDMuMzQ1IDAgNi4zOTQtMi4yNTMgNy4yNjEtNS42NDIgMTAuMjg0LTQwLjE2MS0yMC4yNS03OC45MDEtNjEuMjE2LTc4LjkwMWgtNDAuNjg0YzgxLjEzOS0xMDguMTgyIDc1LjI1My0xMDAuMjUyIDc3Ljc3MS0xMDMuODg0IDQuMDc4IDUuMTE3IDguOTIyIDkuNjE3IDE0LjM2NSAxMy4yODQgNy4zNTIgNC45NTQgMTYuODUzIDQuOTU1IDI0LjIwNiAwIDE5LjU4LTEzLjE5MSAzMC40NDktMzYuMDU2IDI3Ljk4Ni01OS44NTEgMTguMzc4LTEuMDUzIDM1LjI0Ni0xMC42MDIgNDUuNjIxLTI2LjAwMSA0LjY2NS02LjkyNCA0LjY2NS0xNS44NzMtLjAwMS0yMi43OTZ6bS0yMTYuOTEyLTEzNC4wMTZjMS4wODUtMS44NTggMS40Ni0yLjA1OCA4LjA4Ni04LjY4NCAzNy45NzYtMzcuOTc2IDk5LjQ4My0zOC4yNTcgMTM3LjExMS0uNjI4IDQwLjAzMSA0MC4wMzMgMzYuOTQ1IDk5LjU0NC0uNjI5IDEzNy4xMTFsLTYuMDMxIDYuMDMxYy0yLjY4My0uOTcyLTUuNTA0LTEuMzkzLTguMzEtMS4yNjYtNi4yNTctNjkuNjI1LTYxLjIzLTEyNS4xMzItMTMwLjIyNy0xMzIuNTY0em0xMzQuOTI0IDIzMC4yMjRjLTIuMjU5IDEuNTIzLTUuMTggMS41MjMtNy40NDIgMC0xMi45OTctOC43NTYtMjEuNzE1LTIzLjY5OS0yMS43MTUtNDAuNzcgMC0yNS40NjMgMTkuNzY5LTQxLjkxNiAyNS40NDktNDEuOTE2IDEuNDcyIDAgMi43MDguNDU1IDMuODYyIDEuMjUyaC0uMDAxYzI4Ljg2OCAxOS42MTEgMjguNjUxIDYyLjAyOC0uMTUzIDgxLjQzNHptNjkuNTQ5LTgxLjc5NGMtOC4yMTQgMTIuMTkyLTIxLjg3NyAxOS40NzMtMzYuNTUyIDE5LjQ4My0zLjQ2NC05LjcxOS05LjIzOS0xOC40NC0xNi44LTI1LjQ1MiA0Ljg3OS00Ljg3OSAxMC40OTMtMTAuMTk5IDE3LjA5NS0xOS41MzcgMTQuNTYyLjEwNyAyOC4wOTggNy4zNjQgMzYuMjU3IDE5LjQ3NCAxLjIzNCAxLjgzMiAxLjIzNCA0LjE5OSAwIDYuMDMyeiIvPjwvZz48L3N2Zz4=" />
                    配對失敗的兩張卡片會閃爍1秒鐘的時間供您記憶卡片位置
                </li>
                <li>
                    <img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTIyNy41NjIgMjc5LjV2MTJjMCA0LjE0MiAzLjM1NyA3LjUgNy41IDcuNXM3LjUtMy4zNTggNy41LTcuNXYtMTJjMC00LjE0Mi0zLjM1Ny03LjUtNy41LTcuNXMtNy41IDMuMzU4LTcuNSA3LjV6Ii8+PHBhdGggZD0ibTMzNS40NTkgMjkxLjV2LTEyYzAtNC4xNDItMy4zNTctNy41LTcuNS03LjVzLTcuNSAzLjM1OC03LjUgNy41djEyYzAgNC4xNDIgMy4zNTcgNy41IDcuNSA3LjVzNy41LTMuMzU4IDcuNS03LjV6Ii8+PHBhdGggZD0ibTMwMi45MDIgMjg1LjQ4OGMtMy4xMjMtMi43MjEtNy44Ni0yLjM5Ni0xMC41ODEuNzI3LTIuNzI5IDMuMTMyLTYuNjY5IDQuOTI4LTEwLjgxIDQuOTI4cy04LjA4MS0xLjc5Ni0xMC44MS00LjkyOGMtMi43MjEtMy4xMjMtNy40NTktMy40NDgtMTAuNTgxLS43MjctMy4xMjMgMi43MjEtMy40NDkgNy40NTgtLjcyOCAxMC41ODIgNS41NzggNi40MDIgMTMuNjQgMTAuMDczIDIyLjExOCAxMC4wNzNzMTYuNTQtMy42NzEgMjIuMTE4LTEwLjA3M2MyLjcyMy0zLjEyMyAyLjM5Ny03Ljg2MS0uNzI2LTEwLjU4MnoiLz48cGF0aCBkPSJtMzY2Ljc4IDEyMC40ODZjLTEuMjc3LTUuMTYxLTQuMzAyLTE3LjI5MS03LjM4MS0yOS42MzUtMS4wMDMtNC4wMTktNS4wNjgtNi40NjUtOS4wOTMtNS40NjEtNC4wMTkgMS4wMDItNi40NjQgNS4wNzMtNS40NjIgOS4wOTIuNTkzIDIuMzc1IDEuMTgzIDQuNzM5IDEuNzU5IDcuMDUxLTM1Ljc5OS0yOS4xODktOTUuOTI2LTYyLjQwMi0xNTcuMTAxLTY0LjkgNS44MTQtNi4xMzggMTIuOTQxLTEwLjQxMSAyMC42NDEtMTIuMTguNDIyLS4wOTcgMzAuODM1LTcuMDcgMzEuMjQ2LTcuMTk4IDkuNzEyLTMuMDE0IDIwLjU1NS0zLjAxOCAzMC4yNzcgMGwzMC43IDkuNTMyYzE3Ljk1MiA1LjU3NCAzMC4wMjUgMTcuNTI3IDMzLjk5OCAzMy42NjRsMS4yMDQgNC44NTFjLjg0OSAzLjQxMiAzLjkwOCA1LjY5MSA3LjI3MiA1LjY5MS42IDAgMS4yMDktLjA3MyAxLjgxNi0uMjI0IDQuMDItMSA2LjQ2OC01LjA2OSA1LjQ2OC05LjA4OWwtMS4xOTgtNC44MjJjLTUuMjc1LTIxLjQzNS0yMC45NDEtMzcuMjAyLTQ0LjExMi00NC4zOTZsLTMwLjctOS41MzJjLTYuMjYxLTEuOTQ0LTEyLjc2Ny0yLjkzLTE5LjM0LTIuOTMtNi41NDIgMC0xMi44NC43OTItMTkuNTU0IDIuODQ0bC0zMC40MzUgNi45OWMtMTQuNjgxIDMuMzcxLTI3LjcwNyAxMy4xNTQtMzYuMjk5IDI3LjA4NC0zMC4yMjMgMi40NzUtNTAuMjUgMTcuMDI2LTUzLjg5MSAzOS40NDMtMy4yNjUgMjAuMTA2IDguNDUgNDEuMTk5IDI3LjgwNiA1MS41NjItMTIuNzczIDU1LjYwOCA1MC45OTUgOTcuNDU0IDk2LjkwMiA2My4xODggMTIuNzU5LTkuNTE4IDMxLjM2MS0uNDc4IDMxLjM2MSAxNS42OTYgMCAxMC43ODYtOC44MDYgMTkuNTYxLTE5LjYzIDE5LjU2MS0zMy45NzkgMC02MS42MjQgMjcuNjQ0LTYxLjYyNCA2MS42MjNzMjcuNjQ1IDYxLjYyMyA2MS42MjQgNjEuNjIzYzEwLjc2NyAwIDE5LjUyNiA4Ljc3NSAxOS41MjYgMTkuNTYyIDAgMTkuOTM2LTI2LjQ3MSAyNy4wNC0zNi40NzYgOS43NDQtMTMuOTEzLTI0LjA1Ny00Mi41MzYtMzUuOTc5LTY5LjUwOS0yOC42MjUtMy45OTYgMS4wODktNi4zNTMgNS4yMTItNS4yNjQgOS4yMDggMS4wOTEgMy45OTcgNS4yMTYgNi4zNTQgOS4yMDkgNS4yNjMgMjAuNDc1LTUuNTgyIDQyLjEgMy41NDQgNTIuNTc5IDIxLjY2NCAxNy42MjYgMzAuNDcxIDY0LjQ2IDE4LjAxIDY0LjQ2LTE3LjI1NCAwLTE5LjA1Ny0xNS40ODgtMzQuNTYyLTM0LjUyNi0zNC41NjItMjUuNzA5IDAtNDYuNjI0LTIwLjkxNS00Ni42MjQtNDYuNjIzczIwLjkxNS00Ni42MjMgNDYuNjI0LTQ2LjYyM2MxOS4wOTUgMCAzNC42My0xNS41MDQgMzQuNjMtMzQuNTYxIDAtMjguNDYtMzIuNjgtNDQuNjEzLTU1LjMzMi0yNy43MTgtMzUuODY1IDI2Ljc3MS04NC43NzktNy42MDMtNzIuNzI1LTUwLjEwNCAyOS45NjktMTUuODg1IDYxLjc2Ni0yMy40NDggOTcuMDM1LTIzLjEwOC4wNTIuMDAxLjEuMDAxLjE0OSAwIDM1LjcwOC0uMzM4IDY3Ljc4NyA3LjQ0MSA5OC4wODUgMjMuNzYyIDM0LjA1NSA0NC43NTUgMzQuNTc0IDEwNS43OCAyLjUxNCAxNTAuOTA5LTQuMTE3LjAzLTcuNDQ1IDMuMzc0LTcuNDQ1IDcuNDk3IDAgNC4xMjEgMy4zMjUgNy40NjMgNy40MzggNy40OTcgNTguODk5IDgzLjE1OS42NzIgMjAxLjQ0MS0xMDQuMzUxIDIwMS40NDEtNDUuNDY4IDAtODcuODY1LTI0LjQ3Mi0xMTAuNjQ5LTYzLjg2Ni0xMC4yNzktMTcuNzcxLTcuNzQ3LTQwLjE3NSA2LjI3My01NS4xNzUgMi44MjgtMy4wMjYgMi42NjgtNy43NzItLjM1OC0xMC42MDEtMy4wMjctMi44MzEtNy43NzItMi42NjctMTAuNjAxLjM1Ny0xOC42MDIgMTkuOTAzLTIxLjgzNSA0OS41MjUtOC4yOTkgNzIuOTI4IDI1LjQ1OSA0NC4wMTQgNzIuODMzIDcxLjM3NCAxMjMuNjM4IDcxLjM3NCAzOC43MjIgMCA3NS42MjMtMTUuNTc1IDEwMi44NDctNDMuODY5IDQ3LjQ5OS00OS4zNjYgNTIuOTk5LTEyNC43MDkgMTQuNTk4LTE4MC4wOCAzNC45MDgtNTAuMTg4IDM0LjE3Mi0xMTcuODU3LTMuNy0xNjcuNTY1em0tMjEzLjc3My01LjAwN2MtMTQuNzc2LTcuMDg1LTIzLjkzOC0yMi4zNDUtMjEuNjA0LTM2LjcxNCA2Ljk2OS00Mi45MjIgMTA0Ljk4MS0zNC43NjIgMTg1Ljc5NCAxOS42MzYtNDYuNzkyLTEyLjc3Mi0xMDkuOTY4LTExLjUyMi0xNjQuMTkgMTcuMDc4eiIvPjwvZz48L3N2Zz4=" />
                    每配對成功一次，總分加10分，直到總分為260分即過關
                </li>
            </ul>
            <button class='btnStart'>Let's play !</button>
            `;
    const cards = document.querySelector("#cards");
    cards.before(div);
  },

  /**屬性：遊戲結束
   * 顯示遊戲結束畫面
   */
  showGameFinished() {
    const div = document.createElement("div");

    div.classList.add("completed");
    div.innerHTML = `
        <div class="bannerTitle">
            <img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIuMDAyIDUxMi4wMDIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEyLjAwMiA1MTIuMDAyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGlkPSJYTUxJRF8xODQwXyI+PGcgaWQ9IlhNTElEXzEwODNfIj48Y2lyY2xlIGlkPSJYTUxJRF8xMTY4XyIgY3g9IjQ4MC4wMDIiIGN5PSIxOTMuNDg1IiBmaWxsPSIjZmZjZDY5IiByPSIyMiIvPjxjaXJjbGUgaWQ9IlhNTElEXzExNjdfIiBjeD0iMzE1LjExIiBjeT0iMTM3Ljg1NCIgZmlsbD0iI2Q1ZWE3OSIgcj0iMjIiLz48Y2lyY2xlIGlkPSJYTUxJRF8xMTY2XyIgY3g9IjEyOC4wMDIiIGN5PSIzMiIgZmlsbD0iI2ZmN2Q5NyIgcj0iMjIiLz48cGF0aCBpZD0iWE1MSURfOTczXyIgZD0ibTM2MS45MDkgMzc5LjI1OS0zMzIuMzMxIDEyMS44MjJjLTExLjYyNiA0LjI2Mi0yMi45MTgtNy4wMzEtMTguNjU3LTE4LjY1N2wxMjEuODIyLTMzMi4zMzFjMy42NTYtOS45NzMgMTYuNDIzLTEyLjc4OCAyMy45MzQtNS4yNzdsMjEwLjUxIDIxMC41MWM3LjUxIDcuNTEgNC42OTUgMjAuMjc3LTUuMjc4IDIzLjkzM3oiIGZpbGw9IiM5OGVhZjkiLz48cGF0aCBpZD0iWE1MSURfNDEwXyIgZD0ibTM5LjYxNCA0MDQuODc4LS40MjIuNDIyLTI4LjI3MSA3Ny4xMjRjLTQuMjYyIDExLjYyNiA3LjAzMSAyMi45MTggMTguNjU3IDE4LjY1N2w3Ny43NDItMjguNDk4eiIgZmlsbD0iI2ZmN2Q5NyIvPjxwYXRoIGlkPSJYTUxJRF80OV8iIGQ9Im01OS4xMzYgMzU2Ljg4OSA5NS45NzYgOTUuOTc3IDg4LjQ4MS0zMi45MzctMTUxLjUyLTE1MS41MnoiIGZpbGw9IiNmZmNkNjkiLz48ZyBmaWxsPSIjZmZmIj48cGF0aCBpZD0iWE1MSURfNDhfIiBkPSJtMTA3Ljg1NCA0NzIuMzg3LTY4LjI0LTY4LjIzOSAxOS41MjItNDcuMjU5IDk1Ljk3NiA5NS45Nzd6Ii8+PHBhdGggaWQ9IlhNTElEXzExMTZfIiBkPSJtMjQzLjU5MyA0MTkuOTI5LTE1MS41Mi0xNTEuNTIgMTcuMzI4LTQ5LjQ1MiAxODMuNjQ0IDE4My42NDR6Ii8+PC9nPjwvZz48ZyBpZD0iWE1MSURfMTAyMV8iPjxwYXRoIGlkPSJYTUxJRF8xMDY4XyIgZD0ibTQ5Mi4yNSAyODUuNDIyYzIuNTkxLTQuODc3LjczOC0xMC45MzEtNC4xMzktMTMuNTIzLTU2LjAzMy0yOS43NzYtMTI0LjM4Ni0yMi42MzUtMTcyLjk0MiAxNy4yNjZsLTE2LjE1Ny0xNi4xNTcgMjYuMzg3LTI2LjM4N2MzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDMtMy45MDYtMy45MDUtMTAuMjM2LTMuOTA1LTE0LjE0MyAwbC0yNi4zODcgMjYuMzg3LTY0LjM4MS02NC4zODFjMTQuNjQ0LTE5LjYzOSAyMy44NTctNDIuNzA3IDI2Ljc2Mi02Ny4yNyAzLjM0Ny0yOC4zMTYtMS45OC01Ni42NC0xNS40MDgtODEuOTA3LTIuNTkxLTQuODc3LTguNjQ3LTYuNzI5LTEzLjUyMy00LjEzOC00Ljg3NyAyLjU5Mi02LjcyOSA4LjY0Ni00LjEzOCAxMy41MjMgMjEuNTM4IDQwLjUzIDE4LjE2NyA4OC42NTYtOC4wMDcgMTI1LjQ3OGwtNDIuNDI3LTQyLjQyN2MtNS45NTMtNS45NTMtMTQuNDE1LTguNDIzLTIyLjYzNy02LjYxMi04LjIyMiAxLjgxMy0xNC44NiA3LjYxNC0xNy43NTggMTUuNTE5bC0xMjEuODIgMzMyLjMzMmMtMy4zMjcgOS4wNzctMS4xNDggMTguOTYzIDUuNjg5IDI1Ljc5OSA0LjcyMSA0LjcyMSAxMC44OTQgNy4yMjEgMTcuMjUzIDcuMjIxIDIuODUgMCA1LjczNy0uNTAzIDguNTQ2LTEuNTMybDMzMi4zMy0xMjEuODIxYzcuOTA1LTIuODk3IDEzLjcwNi05LjUzNiAxNS41Mi0xNy43NTcgMS44MTItOC4yMjItLjY1OS0xNi42ODQtNi42MTItMjIuNjM3bC00NC44Ni00NC44NjFjNDIuMjUzLTMzLjcxNCAxMDEuMDM0LTM5LjQ5NyAxNDkuMzI5LTEzLjgzMyA0Ljg3NiAyLjU5MiAxMC45My43MzggMTMuNTIzLTQuMTM5em0tMzMyLjk3NCAxNTcuNDY1LTkwLjE2MS05MC4xNjEgMjQuOTgyLTY4LjE1MSAxMzMuMzMgMTMzLjMzem0tNDguODY3IDE3LjkxMy01OS4yMDctNTkuMjA3IDEwLjMyNi0yOC4xNjkgNzcuMDUgNzcuMDV6bS04NC4yNzMgMzAuODkxYy0yLjM3Ljg2OS00LjAwNy0uMjg3LTQuNzc0LTEuMDUyLS43NjYtLjc2Ni0xLjkyMS0yLjQwNC0xLjA1Mi00Ljc3M2wyMy4zMDQtNjMuNTc1IDQ2LjA5NiA0Ni4wOTZ6bTMzNS4yMDMtMTI1LjEwNmMtLjIuOTA3LS44MzkgMi41NC0yLjg3MSAzLjI4NWwtNjEuNDc3IDIyLjUzNS01Ni44NzctNTYuODc4Yy0zLjkwNS0zLjkwNi0xMC4yMzctMy45MDUtMTQuMTQyLS4wMDEtMy45MDUgMy45MDUtMy45MDYgMTAuMjM3LS4wMDEgMTQuMTQybDUwLjMyMiA1MC4zMjMtMjguMTY5IDEwLjMyNi0xNDYuNDQtMTQ2LjQ0IDEwLjMyNi0yOC4xNjkgNTAuMzIzIDUwLjMyMmMxLjk1MiAxLjk1MyA0LjUxMiAyLjkyOSA3LjA3MSAyLjkyOXM1LjExOS0uOTc3IDcuMDcxLTIuOTI5YzMuOTA1LTMuOTA1IDMuOTA1LTEwLjIzNy0uMDAxLTE0LjE0MmwtNTYuODc3LTU2Ljg3NyAyMi41MzUtNjEuNDc3Yy43NDUtMi4wMzIgMi4zNzgtMi42NzEgMy4yODYtMi44NzIuMjc2LS4wNjEuNjMxLS4xMTMgMS4wMzQtLjExMy45MTkgMCAyLjA5LjI3MiAzLjE1NCAxLjMzN2wyMTAuNTEgMjEwLjUxYzEuNTMgMS41MzEgMS40MjMgMy4yODIgMS4yMjMgNC4xODl6Ii8+PHBhdGggaWQ9IlhNTElEXzE0NDFfIiBkPSJtMzAxLjU5NyA3OS44MDRjNS41MjMgMCAxMC00LjQ3NyAxMC0xMCAwLTguMzc1IDYuODE0LTE1LjE4OCAxNS4xODktMTUuMTg4IDE5LjQwMiAwIDM1LjE4OC0xNS43ODUgMzUuMTg4LTM1LjE4OCAwLTUuNTIzLTQuNDc4LTEwLTEwLTEwcy0xMCA0LjQ3Ny0xMCAxMGMwIDguMzc1LTYuODE0IDE1LjE4OC0xNS4xODggMTUuMTg4LTE5LjQwMyAwLTM1LjE4OSAxNS43ODUtMzUuMTg5IDM1LjE4OCAwIDUuNTIzIDQuNDc4IDEwIDEwIDEweiIvPjxwYXRoIGlkPSJYTUxJRF8xNDYyXyIgZD0ibTM5MC4zMTkgMTc0LjE5NWMyMC4wMzkgMCAzNi4zNDItMTYuMzAzIDM2LjM0Mi0zNi4zNDEgMC05LjAxIDcuMzMtMTYuMzQxIDE2LjM0MS0xNi4zNDEgNS41MjIgMCAxMC00LjQ3NyAxMC0xMHMtNC40NzgtMTAtMTAtMTBjLTIwLjAzOCAwLTM2LjM0MSAxNi4zMDMtMzYuMzQxIDM2LjM0MSAwIDkuMDEtNy4zMzEgMTYuMzQxLTE2LjM0MiAxNi4zNDEtNS41MjIgMC0xMCA0LjQ3Ny0xMCAxMHM0LjQ3OCAxMCAxMCAxMHoiLz48cGF0aCBpZD0iWE1MSURfMTQ4OV8iIGQ9Im00NDguMDAyIDE5My40ODVjMCAxNy42NDUgMTQuMzU1IDMyIDMyIDMyczMyLTE0LjM1NSAzMi0zMi0xNC4zNTUtMzItMzItMzItMzIgMTQuMzU1LTMyIDMyem0zMi0xMmM2LjYxNyAwIDEyIDUuMzgzIDEyIDEycy01LjM4MyAxMi0xMiAxMi0xMi01LjM4My0xMi0xMiA1LjM4My0xMiAxMi0xMnoiLz48cGF0aCBpZD0iWE1MSURfMTUwMl8iIGQ9Im0zMTUuMTEgMTY5Ljg1NGMxNy42NDUgMCAzMi0xNC4zNTUgMzItMzJzLTE0LjM1NS0zMi0zMi0zMi0zMiAxNC4zNTUtMzIgMzIgMTQuMzU2IDMyIDMyIDMyem0wLTQ0YzYuNjE3IDAgMTIgNS4zODMgMTIgMTJzLTUuMzgzIDEyLTEyIDEyLTEyLTUuMzgzLTEyLTEyIDUuMzgzLTEyIDEyLTEyeiIvPjxwYXRoIGlkPSJYTUxJRF8xNjE5XyIgZD0ibTEyOC4wMDIgNjRjMTcuNjQ1IDAgMzItMTQuMzU1IDMyLTMycy0xNC4zNTUtMzItMzItMzItMzIgMTQuMzU1LTMyIDMyIDE0LjM1NSAzMiAzMiAzMnptMC00NGM2LjYxNyAwIDEyIDUuMzgzIDEyIDEycy01LjM4MyAxMi0xMiAxMi0xMi01LjM4My0xMi0xMiA1LjM4My0xMiAxMi0xMnoiLz48cGF0aCBpZD0iWE1MSURfMTYyMF8iIGQ9Im00NTIuNTA1IDM1MS4wNThjLTMuOTA0LTMuOTA1LTEwLjIzNC0zLjkwNS0xNC4xNDMtLjAwMS0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDJsOS40MjggOS40MjhjMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTgtLjk3NyA3LjA3MS0yLjkyOWMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDJ6Ii8+PHBhdGggaWQ9IlhNTElEXzE2NTlfIiBkPSJtNDk5LjY0NSAzOTguMTk4Yy0zLjkwNi0zLjkwNS0xMC4yMzYtMy45MDUtMTQuMTQzIDAtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQzbDkuNDI4IDkuNDI4YzEuOTUzIDEuOTUzIDQuNTEyIDIuOTI5IDcuMDcxIDIuOTI5czUuMTE4LS45NzYgNy4wNzEtMi45MjljMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzeiIvPjxwYXRoIGlkPSJYTUxJRF8xNjkwXyIgZD0ibTQ5NC45MyAzNTEuMDU4LTkuNDI4IDkuNDI4Yy0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDIgMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTktLjk3NyA3LjA3MS0yLjkyOWw5LjQyOC05LjQyOGMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDItMy45MDUtMy45MDYtMTAuMjM3LTMuOTA1LTE0LjE0MiAweiIvPjxwYXRoIGlkPSJYTUxJRF8xNzEyXyIgZD0ibTQ0Ny43OSAzOTguMTk4LTkuNDI4IDkuNDI4Yy0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDMgMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjkgMi41NiAwIDUuMTE4LS45NzYgNy4wNzEtMi45MjlsOS40MjgtOS40MjhjMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzLTMuOTA2LTMuOTA1LTEwLjIzNi0zLjkwNS0xNC4xNDIgMHoiLz48cGF0aCBpZD0iWE1MSURfMTcxNV8iIGQ9Im00OTIuNTc0IDI5LjQyOGMyLjU1OSAwIDUuMTE5LS45NzYgNy4wNzEtMi45MjlsOS40MjgtOS40MjhjMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQyLTMuOTA2LTMuOTA1LTEwLjIzOC0zLjkwNS0xNC4xNDMgMGwtOS40MjggOS40MjhjLTMuOTA1IDMuOTA1LTMuOTA1IDEwLjIzNyAwIDE0LjE0MiAxLjk1NCAxLjk1MyA0LjUxMiAyLjkyOSA3LjA3MiAyLjkyOXoiLz48cGF0aCBpZD0iWE1MSURfMTc0N18iIGQ9Im00NDUuNDMzIDc2LjU2OGMyLjU2IDAgNS4xMTgtLjk3NiA3LjA3MS0yLjkyOWw5LjQyOC05LjQyOGMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDMtMy45MDYtMy45MDUtMTAuMjM2LTMuOTA1LTE0LjE0MyAwbC05LjQyOCA5LjQyOGMtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQzIDEuOTU0IDEuOTUzIDQuNTEzIDIuOTI5IDcuMDcyIDIuOTI5eiIvPjxwYXRoIGlkPSJYTUxJRF8xNzUwXyIgZD0ibTQ5OS42NDUgNTAuMDY5Yy0zLjkwNi0zLjkwNS0xMC4yMzYtMy45MDUtMTQuMTQzIDAtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQzbDkuNDI4IDkuNDI4YzEuOTUzIDEuOTUzIDQuNTEyIDIuOTI5IDcuMDcxIDIuOTI5czUuMTE4LS45NzYgNy4wNzEtMi45MjljMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzeiIvPjxwYXRoIGlkPSJYTUxJRF8xNzUxXyIgZD0ibTQ0Ny43OSAyNi40OTljMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTgtLjk3NiA3LjA3MS0yLjkyOWMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDJsLTkuNDI4LTkuNDI4Yy0zLjkwNC0zLjkwNS0xMC4yMzQtMy45MDUtMTQuMTQzIDAtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQyeiIvPjxwYXRoIGlkPSJYTUxJRF8xNzU1XyIgZD0ibTIwMS4yMjEgMzAwLjc4Yy0yLjYzIDAtNS4yMSAxLjA3LTcuMDcgMi45M3MtMi45MyA0LjQ0LTIuOTMgNy4wNyAxLjA3IDUuMjEgMi45MyA3LjA3IDQuNDQgMi45MyA3LjA3IDIuOTMgNS4yMS0xLjA3IDcuMDctMi45MyAyLjkzLTQuNDQgMi45My03LjA3LTEuMDctNS4yMS0yLjkzLTcuMDctNC40NC0yLjkzLTcuMDctMi45M3oiLz48cGF0aCBpZD0iWE1MSURfMTc1Nl8iIGQ9Im0zNDcuMTE4IDE5Ni42MTYtNy4yNSA3LjI1Yy0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDMgMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTgtLjk3NiA3LjA3MS0yLjkyOWw3LjI1LTcuMjVjMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzLTMuOTA2LTMuOTA1LTEwLjIzNi0zLjkwNS0xNC4xNDIgMHoiLz48L2c+PC9nPjwvc3ZnPg==" />
            <h2>Complete!</h2>
            <img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIuMDAyIDUxMi4wMDIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEyLjAwMiA1MTIuMDAyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGlkPSJYTUxJRF8xODQwXyI+PGcgaWQ9IlhNTElEXzEwODNfIj48Y2lyY2xlIGlkPSJYTUxJRF8xMTY4XyIgY3g9IjQ4MC4wMDIiIGN5PSIxOTMuNDg1IiBmaWxsPSIjZmZjZDY5IiByPSIyMiIvPjxjaXJjbGUgaWQ9IlhNTElEXzExNjdfIiBjeD0iMzE1LjExIiBjeT0iMTM3Ljg1NCIgZmlsbD0iI2Q1ZWE3OSIgcj0iMjIiLz48Y2lyY2xlIGlkPSJYTUxJRF8xMTY2XyIgY3g9IjEyOC4wMDIiIGN5PSIzMiIgZmlsbD0iI2ZmN2Q5NyIgcj0iMjIiLz48cGF0aCBpZD0iWE1MSURfOTczXyIgZD0ibTM2MS45MDkgMzc5LjI1OS0zMzIuMzMxIDEyMS44MjJjLTExLjYyNiA0LjI2Mi0yMi45MTgtNy4wMzEtMTguNjU3LTE4LjY1N2wxMjEuODIyLTMzMi4zMzFjMy42NTYtOS45NzMgMTYuNDIzLTEyLjc4OCAyMy45MzQtNS4yNzdsMjEwLjUxIDIxMC41MWM3LjUxIDcuNTEgNC42OTUgMjAuMjc3LTUuMjc4IDIzLjkzM3oiIGZpbGw9IiM5OGVhZjkiLz48cGF0aCBpZD0iWE1MSURfNDEwXyIgZD0ibTM5LjYxNCA0MDQuODc4LS40MjIuNDIyLTI4LjI3MSA3Ny4xMjRjLTQuMjYyIDExLjYyNiA3LjAzMSAyMi45MTggMTguNjU3IDE4LjY1N2w3Ny43NDItMjguNDk4eiIgZmlsbD0iI2ZmN2Q5NyIvPjxwYXRoIGlkPSJYTUxJRF80OV8iIGQ9Im01OS4xMzYgMzU2Ljg4OSA5NS45NzYgOTUuOTc3IDg4LjQ4MS0zMi45MzctMTUxLjUyLTE1MS41MnoiIGZpbGw9IiNmZmNkNjkiLz48ZyBmaWxsPSIjZmZmIj48cGF0aCBpZD0iWE1MSURfNDhfIiBkPSJtMTA3Ljg1NCA0NzIuMzg3LTY4LjI0LTY4LjIzOSAxOS41MjItNDcuMjU5IDk1Ljk3NiA5NS45Nzd6Ii8+PHBhdGggaWQ9IlhNTElEXzExMTZfIiBkPSJtMjQzLjU5MyA0MTkuOTI5LTE1MS41Mi0xNTEuNTIgMTcuMzI4LTQ5LjQ1MiAxODMuNjQ0IDE4My42NDR6Ii8+PC9nPjwvZz48ZyBpZD0iWE1MSURfMTAyMV8iPjxwYXRoIGlkPSJYTUxJRF8xMDY4XyIgZD0ibTQ5Mi4yNSAyODUuNDIyYzIuNTkxLTQuODc3LjczOC0xMC45MzEtNC4xMzktMTMuNTIzLTU2LjAzMy0yOS43NzYtMTI0LjM4Ni0yMi42MzUtMTcyLjk0MiAxNy4yNjZsLTE2LjE1Ny0xNi4xNTcgMjYuMzg3LTI2LjM4N2MzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDMtMy45MDYtMy45MDUtMTAuMjM2LTMuOTA1LTE0LjE0MyAwbC0yNi4zODcgMjYuMzg3LTY0LjM4MS02NC4zODFjMTQuNjQ0LTE5LjYzOSAyMy44NTctNDIuNzA3IDI2Ljc2Mi02Ny4yNyAzLjM0Ny0yOC4zMTYtMS45OC01Ni42NC0xNS40MDgtODEuOTA3LTIuNTkxLTQuODc3LTguNjQ3LTYuNzI5LTEzLjUyMy00LjEzOC00Ljg3NyAyLjU5Mi02LjcyOSA4LjY0Ni00LjEzOCAxMy41MjMgMjEuNTM4IDQwLjUzIDE4LjE2NyA4OC42NTYtOC4wMDcgMTI1LjQ3OGwtNDIuNDI3LTQyLjQyN2MtNS45NTMtNS45NTMtMTQuNDE1LTguNDIzLTIyLjYzNy02LjYxMi04LjIyMiAxLjgxMy0xNC44NiA3LjYxNC0xNy43NTggMTUuNTE5bC0xMjEuODIgMzMyLjMzMmMtMy4zMjcgOS4wNzctMS4xNDggMTguOTYzIDUuNjg5IDI1Ljc5OSA0LjcyMSA0LjcyMSAxMC44OTQgNy4yMjEgMTcuMjUzIDcuMjIxIDIuODUgMCA1LjczNy0uNTAzIDguNTQ2LTEuNTMybDMzMi4zMy0xMjEuODIxYzcuOTA1LTIuODk3IDEzLjcwNi05LjUzNiAxNS41Mi0xNy43NTcgMS44MTItOC4yMjItLjY1OS0xNi42ODQtNi42MTItMjIuNjM3bC00NC44Ni00NC44NjFjNDIuMjUzLTMzLjcxNCAxMDEuMDM0LTM5LjQ5NyAxNDkuMzI5LTEzLjgzMyA0Ljg3NiAyLjU5MiAxMC45My43MzggMTMuNTIzLTQuMTM5em0tMzMyLjk3NCAxNTcuNDY1LTkwLjE2MS05MC4xNjEgMjQuOTgyLTY4LjE1MSAxMzMuMzMgMTMzLjMzem0tNDguODY3IDE3LjkxMy01OS4yMDctNTkuMjA3IDEwLjMyNi0yOC4xNjkgNzcuMDUgNzcuMDV6bS04NC4yNzMgMzAuODkxYy0yLjM3Ljg2OS00LjAwNy0uMjg3LTQuNzc0LTEuMDUyLS43NjYtLjc2Ni0xLjkyMS0yLjQwNC0xLjA1Mi00Ljc3M2wyMy4zMDQtNjMuNTc1IDQ2LjA5NiA0Ni4wOTZ6bTMzNS4yMDMtMTI1LjEwNmMtLjIuOTA3LS44MzkgMi41NC0yLjg3MSAzLjI4NWwtNjEuNDc3IDIyLjUzNS01Ni44NzctNTYuODc4Yy0zLjkwNS0zLjkwNi0xMC4yMzctMy45MDUtMTQuMTQyLS4wMDEtMy45MDUgMy45MDUtMy45MDYgMTAuMjM3LS4wMDEgMTQuMTQybDUwLjMyMiA1MC4zMjMtMjguMTY5IDEwLjMyNi0xNDYuNDQtMTQ2LjQ0IDEwLjMyNi0yOC4xNjkgNTAuMzIzIDUwLjMyMmMxLjk1MiAxLjk1MyA0LjUxMiAyLjkyOSA3LjA3MSAyLjkyOXM1LjExOS0uOTc3IDcuMDcxLTIuOTI5YzMuOTA1LTMuOTA1IDMuOTA1LTEwLjIzNy0uMDAxLTE0LjE0MmwtNTYuODc3LTU2Ljg3NyAyMi41MzUtNjEuNDc3Yy43NDUtMi4wMzIgMi4zNzgtMi42NzEgMy4yODYtMi44NzIuMjc2LS4wNjEuNjMxLS4xMTMgMS4wMzQtLjExMy45MTkgMCAyLjA5LjI3MiAzLjE1NCAxLjMzN2wyMTAuNTEgMjEwLjUxYzEuNTMgMS41MzEgMS40MjMgMy4yODIgMS4yMjMgNC4xODl6Ii8+PHBhdGggaWQ9IlhNTElEXzE0NDFfIiBkPSJtMzAxLjU5NyA3OS44MDRjNS41MjMgMCAxMC00LjQ3NyAxMC0xMCAwLTguMzc1IDYuODE0LTE1LjE4OCAxNS4xODktMTUuMTg4IDE5LjQwMiAwIDM1LjE4OC0xNS43ODUgMzUuMTg4LTM1LjE4OCAwLTUuNTIzLTQuNDc4LTEwLTEwLTEwcy0xMCA0LjQ3Ny0xMCAxMGMwIDguMzc1LTYuODE0IDE1LjE4OC0xNS4xODggMTUuMTg4LTE5LjQwMyAwLTM1LjE4OSAxNS43ODUtMzUuMTg5IDM1LjE4OCAwIDUuNTIzIDQuNDc4IDEwIDEwIDEweiIvPjxwYXRoIGlkPSJYTUxJRF8xNDYyXyIgZD0ibTM5MC4zMTkgMTc0LjE5NWMyMC4wMzkgMCAzNi4zNDItMTYuMzAzIDM2LjM0Mi0zNi4zNDEgMC05LjAxIDcuMzMtMTYuMzQxIDE2LjM0MS0xNi4zNDEgNS41MjIgMCAxMC00LjQ3NyAxMC0xMHMtNC40NzgtMTAtMTAtMTBjLTIwLjAzOCAwLTM2LjM0MSAxNi4zMDMtMzYuMzQxIDM2LjM0MSAwIDkuMDEtNy4zMzEgMTYuMzQxLTE2LjM0MiAxNi4zNDEtNS41MjIgMC0xMCA0LjQ3Ny0xMCAxMHM0LjQ3OCAxMCAxMCAxMHoiLz48cGF0aCBpZD0iWE1MSURfMTQ4OV8iIGQ9Im00NDguMDAyIDE5My40ODVjMCAxNy42NDUgMTQuMzU1IDMyIDMyIDMyczMyLTE0LjM1NSAzMi0zMi0xNC4zNTUtMzItMzItMzItMzIgMTQuMzU1LTMyIDMyem0zMi0xMmM2LjYxNyAwIDEyIDUuMzgzIDEyIDEycy01LjM4MyAxMi0xMiAxMi0xMi01LjM4My0xMi0xMiA1LjM4My0xMiAxMi0xMnoiLz48cGF0aCBpZD0iWE1MSURfMTUwMl8iIGQ9Im0zMTUuMTEgMTY5Ljg1NGMxNy42NDUgMCAzMi0xNC4zNTUgMzItMzJzLTE0LjM1NS0zMi0zMi0zMi0zMiAxNC4zNTUtMzIgMzIgMTQuMzU2IDMyIDMyIDMyem0wLTQ0YzYuNjE3IDAgMTIgNS4zODMgMTIgMTJzLTUuMzgzIDEyLTEyIDEyLTEyLTUuMzgzLTEyLTEyIDUuMzgzLTEyIDEyLTEyeiIvPjxwYXRoIGlkPSJYTUxJRF8xNjE5XyIgZD0ibTEyOC4wMDIgNjRjMTcuNjQ1IDAgMzItMTQuMzU1IDMyLTMycy0xNC4zNTUtMzItMzItMzItMzIgMTQuMzU1LTMyIDMyIDE0LjM1NSAzMiAzMiAzMnptMC00NGM2LjYxNyAwIDEyIDUuMzgzIDEyIDEycy01LjM4MyAxMi0xMiAxMi0xMi01LjM4My0xMi0xMiA1LjM4My0xMiAxMi0xMnoiLz48cGF0aCBpZD0iWE1MSURfMTYyMF8iIGQ9Im00NTIuNTA1IDM1MS4wNThjLTMuOTA0LTMuOTA1LTEwLjIzNC0zLjkwNS0xNC4xNDMtLjAwMS0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDJsOS40MjggOS40MjhjMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTgtLjk3NyA3LjA3MS0yLjkyOWMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDJ6Ii8+PHBhdGggaWQ9IlhNTElEXzE2NTlfIiBkPSJtNDk5LjY0NSAzOTguMTk4Yy0zLjkwNi0zLjkwNS0xMC4yMzYtMy45MDUtMTQuMTQzIDAtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQzbDkuNDI4IDkuNDI4YzEuOTUzIDEuOTUzIDQuNTEyIDIuOTI5IDcuMDcxIDIuOTI5czUuMTE4LS45NzYgNy4wNzEtMi45MjljMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzeiIvPjxwYXRoIGlkPSJYTUxJRF8xNjkwXyIgZD0ibTQ5NC45MyAzNTEuMDU4LTkuNDI4IDkuNDI4Yy0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDIgMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTktLjk3NyA3LjA3MS0yLjkyOWw5LjQyOC05LjQyOGMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDItMy45MDUtMy45MDYtMTAuMjM3LTMuOTA1LTE0LjE0MiAweiIvPjxwYXRoIGlkPSJYTUxJRF8xNzEyXyIgZD0ibTQ0Ny43OSAzOTguMTk4LTkuNDI4IDkuNDI4Yy0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDMgMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjkgMi41NiAwIDUuMTE4LS45NzYgNy4wNzEtMi45MjlsOS40MjgtOS40MjhjMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzLTMuOTA2LTMuOTA1LTEwLjIzNi0zLjkwNS0xNC4xNDIgMHoiLz48cGF0aCBpZD0iWE1MSURfMTcxNV8iIGQ9Im00OTIuNTc0IDI5LjQyOGMyLjU1OSAwIDUuMTE5LS45NzYgNy4wNzEtMi45MjlsOS40MjgtOS40MjhjMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQyLTMuOTA2LTMuOTA1LTEwLjIzOC0zLjkwNS0xNC4xNDMgMGwtOS40MjggOS40MjhjLTMuOTA1IDMuOTA1LTMuOTA1IDEwLjIzNyAwIDE0LjE0MiAxLjk1NCAxLjk1MyA0LjUxMiAyLjkyOSA3LjA3MiAyLjkyOXoiLz48cGF0aCBpZD0iWE1MSURfMTc0N18iIGQ9Im00NDUuNDMzIDc2LjU2OGMyLjU2IDAgNS4xMTgtLjk3NiA3LjA3MS0yLjkyOWw5LjQyOC05LjQyOGMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDMtMy45MDYtMy45MDUtMTAuMjM2LTMuOTA1LTE0LjE0MyAwbC05LjQyOCA5LjQyOGMtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQzIDEuOTU0IDEuOTUzIDQuNTEzIDIuOTI5IDcuMDcyIDIuOTI5eiIvPjxwYXRoIGlkPSJYTUxJRF8xNzUwXyIgZD0ibTQ5OS42NDUgNTAuMDY5Yy0zLjkwNi0zLjkwNS0xMC4yMzYtMy45MDUtMTQuMTQzIDAtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQzbDkuNDI4IDkuNDI4YzEuOTUzIDEuOTUzIDQuNTEyIDIuOTI5IDcuMDcxIDIuOTI5czUuMTE4LS45NzYgNy4wNzEtMi45MjljMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzeiIvPjxwYXRoIGlkPSJYTUxJRF8xNzUxXyIgZD0ibTQ0Ny43OSAyNi40OTljMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTgtLjk3NiA3LjA3MS0yLjkyOWMzLjkwNS0zLjkwNSAzLjkwNS0xMC4yMzcgMC0xNC4xNDJsLTkuNDI4LTkuNDI4Yy0zLjkwNC0zLjkwNS0xMC4yMzQtMy45MDUtMTQuMTQzIDAtMy45MDUgMy45MDUtMy45MDUgMTAuMjM3IDAgMTQuMTQyeiIvPjxwYXRoIGlkPSJYTUxJRF8xNzU1XyIgZD0ibTIwMS4yMjEgMzAwLjc4Yy0yLjYzIDAtNS4yMSAxLjA3LTcuMDcgMi45M3MtMi45MyA0LjQ0LTIuOTMgNy4wNyAxLjA3IDUuMjEgMi45MyA3LjA3IDQuNDQgMi45MyA3LjA3IDIuOTMgNS4yMS0xLjA3IDcuMDctMi45MyAyLjkzLTQuNDQgMi45My03LjA3LTEuMDctNS4yMS0yLjkzLTcuMDctNC40NC0yLjkzLTcuMDctMi45M3oiLz48cGF0aCBpZD0iWE1MSURfMTc1Nl8iIGQ9Im0zNDcuMTE4IDE5Ni42MTYtNy4yNSA3LjI1Yy0zLjkwNSAzLjkwNS0zLjkwNSAxMC4yMzcgMCAxNC4xNDMgMS45NTMgMS45NTMgNC41MTIgMi45MjkgNy4wNzEgMi45MjlzNS4xMTgtLjk3NiA3LjA3MS0yLjkyOWw3LjI1LTcuMjVjMy45MDUtMy45MDUgMy45MDUtMTAuMjM3IDAtMTQuMTQzLTMuOTA2LTMuOTA1LTEwLjIzNi0zLjkwNS0xNC4xNDIgMHoiLz48L2c+PC9nPjwvc3ZnPg==" />
        </div>
        <ul>
            <li>
                <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxsaW5lYXJHcmFkaWVudCBpZD0iTmV3X0dyYWRpZW50X1N3YXRjaF8yIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI1NiIgeDI9IjI1NiIgeTE9IjUzLjIyNSIgeTI9IjQ1Ny40MDgiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZjNWM3ZCIvPjxzdG9wIG9mZnNldD0iLjEyOSIgc3RvcC1jb2xvcj0iI2YzNWU4NSIvPjxzdG9wIG9mZnNldD0iLjM0MyIgc3RvcC1jb2xvcj0iI2Q5NjU5YiIvPjxzdG9wIG9mZnNldD0iLjYxNiIgc3RvcC1jb2xvcj0iI2IwNzBiZiIvPjxzdG9wIG9mZnNldD0iLjkzNCIgc3RvcC1jb2xvcj0iIzc3N2ZmMCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzZhODJmYiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJOZXdfR3JhZGllbnRfU3dhdGNoXzItNCIgeDE9IjE5MiIgeDI9IjE5MiIgeGxpbms6aHJlZj0iI05ld19HcmFkaWVudF9Td2F0Y2hfMiIgeTE9IjUzLjIyNSIgeTI9IjQ1Ny40MDgiLz48bGluZWFyR3JhZGllbnQgaWQ9Ik5ld19HcmFkaWVudF9Td2F0Y2hfMi01IiB4MT0iMjgwIiB4Mj0iMjgwIiB4bGluazpocmVmPSIjTmV3X0dyYWRpZW50X1N3YXRjaF8yIiB5MT0iNTMuMjI1IiB5Mj0iNDU3LjQwOCIvPjxsaW5lYXJHcmFkaWVudCBpZD0iTmV3X0dyYWRpZW50X1N3YXRjaF8yLTciIHgxPSIyNDgiIHgyPSIyNDgiIHhsaW5rOmhyZWY9IiNOZXdfR3JhZGllbnRfU3dhdGNoXzIiIHkxPSI1My4yMjUiIHkyPSI0NTcuNDA4Ii8+PGcgaWQ9IkdEMDAxIj48ZyBmaWxsPSJ1cmwoI05ld19HcmFkaWVudF9Td2F0Y2hfMikiPjxwYXRoIGQ9Im00MDggNDhoLTE2di0yOC40ODNhMjQgMjQgMCAwIDAgLTI4LjcwNy0yMy41MzVsLTI2MC4yIDUyLjA0MWEyNC4wMjUgMjQuMDI1IDAgMCAwIC0yMy4wOTMgMjMuOTc3djQwMGEyNC4wMjggMjQuMDI4IDAgMCAwIDI0IDI0aDMwNGEyNC4wMjggMjQuMDI4IDAgMCAwIDI0LTI0di00MDBhMjQuMDI4IDI0LjAyOCAwIDAgMCAtMjQtMjR6bS00MS41NjktMzYuMzI4YTggOCAwIDAgMSA5LjU2OSA3Ljg0NXYyOC40ODNoLTE5MS4yMDh6bS0yNjIuNDMxIDUyLjMyOGgzMDRhOC4wMDkgOC4wMDkgMCAwIDEgOCA4djgwaC0zMi4xNzlhMjMuOTg3IDIzLjk4NyAwIDAgMCAtMjcuNzY1LTIwLjc4MWwtNjYuMTQgMTEuMDJhMjAuOTMzIDIwLjkzMyAwIDAgMCAtMTQuOTE2LTYuMjM5aC0zOGEyMC45MzMgMjAuOTMzIDAgMCAwIC0xNC45MTYgNi4yMzlsLTY2LjEzNS0xMS4wMTlhMjMuOTg2IDIzLjk4NiAwIDAgMCAtMjcuNzcgMjAuNzhoLTMyLjE3OXYtODBhOC4wMDkgOC4wMDkgMCAwIDEgOC04em0yODAgMTA0aDMydjE2aC0zMnptLTE2OCAwaC0zMnYxNmgzMnYxMC41NTRsLTYyLjY4OSAxMC40NDZhNy45OTUgNy45OTUgMCAwIDEgLTkuMzExLTcuODl2LTQyLjIyYTcuOTk0IDcuOTk0IDAgMCAxIDkuMzE1LTcuODlsNjIuNjg1IDEwLjQ0NnptNi4wODQgNDEuNzYxYTIxLjAxNyAyMS4wMTcgMCAwIDAgOC45MyA1LjM1OGwtNy40ODIgNzEuNzkxLTMyLjk3NiA2LjcgMjEuMjg1LTgyLjE0MnptMTQuOTE2LTkuNzYxYTUuMDA2IDUuMDA2IDAgMCAxIC01LTV2LTM4YTUuMDA2IDUuMDA2IDAgMCAxIDUtNWgzOGE1LjAwNiA1LjAwNiAwIDAgMSA1IDV2MzhhNS4wMDYgNS4wMDYgMCAwIDEgLTUgNXptNTIuOTE2IDkuNzYxIDEwLjI0MyAxLjcwNyAyMS4yODUgODIuMTQyLTMyLjk3Ni02LjctNy40ODItNzEuNzkxYTIxLjAxNyAyMS4wMTcgMCAwIDAgOC45My01LjM1OHptNi4wODQtMTUuMjA3di0xMC41NTRoMzJ2LTE2aC0zMnYtMTAuNTU0bDYyLjY4OS0xMC40NDZhNy45OTUgNy45OTUgMCAwIDEgOS4zMTEgNy44OXY0Mi4yMmE3Ljk5NCA3Ljk5NCAwIDAgMSAtOS4zMTUgNy44OXptLTE2OC0xMC41NTRoLTMydi0xNmgzMnptMjgwIDI5NmgtMzA0YTguMDA5IDguMDA5IDAgMCAxIC04LTh2LTI3MmgzMi4xNzlhMjMuOTc5IDIzLjk3OSAwIDAgMCAyNy43NjUgMjAuNzgxbDM4LjYyMy02LjQzNS0yMi43MTIgODcuNjQ3YTggOCAwIDAgMCA5LjMzNyA5Ljg0N2w1MS4yODEtMTAuNDJhOCA4IDAgMCAwIDYuMzY0LTcuMDExbDguMTcyLTc4LjQwOWgxNy45ODJsOC4xNzIgNzguNDA5YTggOCAwIDAgMCA2LjM2NCA3LjAxMWw1MS4yODEgMTAuNDJhOCA4IDAgMCAwIDkuMzM3LTkuODQ3bC0yMi43MTItODcuNjQ3IDM4LjYxOCA2LjQzNGEyMy45ODYgMjMuOTg2IDAgMCAwIDI3Ljc3LTIwLjc4aDMyLjE3OXYyNzJhOC4wMDkgOC4wMDkgMCAwIDEgLTggOHoiLz48cGF0aCBkPSJtMzg0IDQ0OGgtMjU2di0yMjRoLTE2djIzMmE4IDggMCAwIDAgOCA4aDI3MmE4IDggMCAwIDAgOC04di0yMzJoLTE2eiIvPjxwYXRoIGQ9Im0xMjggOTZoMjU2djMyaDE2di00MGE4IDggMCAwIDAgLTgtOGgtMjcyYTggOCAwIDAgMCAtOCA4djQwaDE2eiIvPjwvZz48cGF0aCBkPSJtMTg0IDMzNmgxNnYxNmgtMTZ6IiBmaWxsPSJ1cmwoI05ld19HcmFkaWVudF9Td2F0Y2hfMi00KSIvPjxwYXRoIGQ9Im0yMTYgMzM2aDEyOHYxNmgtMTI4eiIgZmlsbD0idXJsKCNOZXdfR3JhZGllbnRfU3dhdGNoXzItNSkiLz48cGF0aCBkPSJtMTY4IDM2OGgxNzZ2MTZoLTE3NnoiIGZpbGw9InVybCgjTmV3X0dyYWRpZW50X1N3YXRjaF8yKSIvPjxwYXRoIGQ9Im0xNjggNDAwaDE2MHYxNmgtMTYweiIgZmlsbD0idXJsKCNOZXdfR3JhZGllbnRfU3dhdGNoXzItNykiLz48L2c+PC9zdmc+" />
                Score: ${model.score}
            </li>
            <li>
                <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxsaW5lYXJHcmFkaWVudCBpZD0iTmV3X0dyYWRpZW50X1N3YXRjaF8yIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI1NiIgeDI9IjI1NiIgeTE9IjUzLjIyNSIgeTI9IjQ1Ny40MDgiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZjNWM3ZCIvPjxzdG9wIG9mZnNldD0iLjEyOSIgc3RvcC1jb2xvcj0iI2YzNWU4NSIvPjxzdG9wIG9mZnNldD0iLjM0MyIgc3RvcC1jb2xvcj0iI2Q5NjU5YiIvPjxzdG9wIG9mZnNldD0iLjYxNiIgc3RvcC1jb2xvcj0iI2IwNzBiZiIvPjxzdG9wIG9mZnNldD0iLjkzNCIgc3RvcC1jb2xvcj0iIzc3N2ZmMCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzZhODJmYiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJOZXdfR3JhZGllbnRfU3dhdGNoXzItNCIgeDE9IjE5MiIgeDI9IjE5MiIgeGxpbms6aHJlZj0iI05ld19HcmFkaWVudF9Td2F0Y2hfMiIgeTE9IjUzLjIyNSIgeTI9IjQ1Ny40MDgiLz48bGluZWFyR3JhZGllbnQgaWQ9Ik5ld19HcmFkaWVudF9Td2F0Y2hfMi01IiB4MT0iMjgwIiB4Mj0iMjgwIiB4bGluazpocmVmPSIjTmV3X0dyYWRpZW50X1N3YXRjaF8yIiB5MT0iNTMuMjI1IiB5Mj0iNDU3LjQwOCIvPjxsaW5lYXJHcmFkaWVudCBpZD0iTmV3X0dyYWRpZW50X1N3YXRjaF8yLTciIHgxPSIyNDgiIHgyPSIyNDgiIHhsaW5rOmhyZWY9IiNOZXdfR3JhZGllbnRfU3dhdGNoXzIiIHkxPSI1My4yMjUiIHkyPSI0NTcuNDA4Ii8+PGcgaWQ9IkdEMDAxIj48ZyBmaWxsPSJ1cmwoI05ld19HcmFkaWVudF9Td2F0Y2hfMikiPjxwYXRoIGQ9Im00MDggNDhoLTE2di0yOC40ODNhMjQgMjQgMCAwIDAgLTI4LjcwNy0yMy41MzVsLTI2MC4yIDUyLjA0MWEyNC4wMjUgMjQuMDI1IDAgMCAwIC0yMy4wOTMgMjMuOTc3djQwMGEyNC4wMjggMjQuMDI4IDAgMCAwIDI0IDI0aDMwNGEyNC4wMjggMjQuMDI4IDAgMCAwIDI0LTI0di00MDBhMjQuMDI4IDI0LjAyOCAwIDAgMCAtMjQtMjR6bS00MS41NjktMzYuMzI4YTggOCAwIDAgMSA5LjU2OSA3Ljg0NXYyOC40ODNoLTE5MS4yMDh6bS0yNjIuNDMxIDUyLjMyOGgzMDRhOC4wMDkgOC4wMDkgMCAwIDEgOCA4djgwaC0zMi4xNzlhMjMuOTg3IDIzLjk4NyAwIDAgMCAtMjcuNzY1LTIwLjc4MWwtNjYuMTQgMTEuMDJhMjAuOTMzIDIwLjkzMyAwIDAgMCAtMTQuOTE2LTYuMjM5aC0zOGEyMC45MzMgMjAuOTMzIDAgMCAwIC0xNC45MTYgNi4yMzlsLTY2LjEzNS0xMS4wMTlhMjMuOTg2IDIzLjk4NiAwIDAgMCAtMjcuNzcgMjAuNzhoLTMyLjE3OXYtODBhOC4wMDkgOC4wMDkgMCAwIDEgOC04em0yODAgMTA0aDMydjE2aC0zMnptLTE2OCAwaC0zMnYxNmgzMnYxMC41NTRsLTYyLjY4OSAxMC40NDZhNy45OTUgNy45OTUgMCAwIDEgLTkuMzExLTcuODl2LTQyLjIyYTcuOTk0IDcuOTk0IDAgMCAxIDkuMzE1LTcuODlsNjIuNjg1IDEwLjQ0NnptNi4wODQgNDEuNzYxYTIxLjAxNyAyMS4wMTcgMCAwIDAgOC45MyA1LjM1OGwtNy40ODIgNzEuNzkxLTMyLjk3NiA2LjcgMjEuMjg1LTgyLjE0MnptMTQuOTE2LTkuNzYxYTUuMDA2IDUuMDA2IDAgMCAxIC01LTV2LTM4YTUuMDA2IDUuMDA2IDAgMCAxIDUtNWgzOGE1LjAwNiA1LjAwNiAwIDAgMSA1IDV2MzhhNS4wMDYgNS4wMDYgMCAwIDEgLTUgNXptNTIuOTE2IDkuNzYxIDEwLjI0MyAxLjcwNyAyMS4yODUgODIuMTQyLTMyLjk3Ni02LjctNy40ODItNzEuNzkxYTIxLjAxNyAyMS4wMTcgMCAwIDAgOC45My01LjM1OHptNi4wODQtMTUuMjA3di0xMC41NTRoMzJ2LTE2aC0zMnYtMTAuNTU0bDYyLjY4OS0xMC40NDZhNy45OTUgNy45OTUgMCAwIDEgOS4zMTEgNy44OXY0Mi4yMmE3Ljk5NCA3Ljk5NCAwIDAgMSAtOS4zMTUgNy44OXptLTE2OC0xMC41NTRoLTMydi0xNmgzMnptMjgwIDI5NmgtMzA0YTguMDA5IDguMDA5IDAgMCAxIC04LTh2LTI3MmgzMi4xNzlhMjMuOTc5IDIzLjk3OSAwIDAgMCAyNy43NjUgMjAuNzgxbDM4LjYyMy02LjQzNS0yMi43MTIgODcuNjQ3YTggOCAwIDAgMCA5LjMzNyA5Ljg0N2w1MS4yODEtMTAuNDJhOCA4IDAgMCAwIDYuMzY0LTcuMDExbDguMTcyLTc4LjQwOWgxNy45ODJsOC4xNzIgNzguNDA5YTggOCAwIDAgMCA2LjM2NCA3LjAxMWw1MS4yODEgMTAuNDJhOCA4IDAgMCAwIDkuMzM3LTkuODQ3bC0yMi43MTItODcuNjQ3IDM4LjYxOCA2LjQzNGEyMy45ODYgMjMuOTg2IDAgMCAwIDI3Ljc3LTIwLjc4aDMyLjE3OXYyNzJhOC4wMDkgOC4wMDkgMCAwIDEgLTggOHoiLz48cGF0aCBkPSJtMzg0IDQ0OGgtMjU2di0yMjRoLTE2djIzMmE4IDggMCAwIDAgOCA4aDI3MmE4IDggMCAwIDAgOC04di0yMzJoLTE2eiIvPjxwYXRoIGQ9Im0xMjggOTZoMjU2djMyaDE2di00MGE4IDggMCAwIDAgLTgtOGgtMjcyYTggOCAwIDAgMCAtOCA4djQwaDE2eiIvPjwvZz48cGF0aCBkPSJtMTg0IDMzNmgxNnYxNmgtMTZ6IiBmaWxsPSJ1cmwoI05ld19HcmFkaWVudF9Td2F0Y2hfMi00KSIvPjxwYXRoIGQ9Im0yMTYgMzM2aDEyOHYxNmgtMTI4eiIgZmlsbD0idXJsKCNOZXdfR3JhZGllbnRfU3dhdGNoXzItNSkiLz48cGF0aCBkPSJtMTY4IDM2OGgxNzZ2MTZoLTE3NnoiIGZpbGw9InVybCgjTmV3X0dyYWRpZW50X1N3YXRjaF8yKSIvPjxwYXRoIGQ9Im0xNjggNDAwaDE2MHYxNmgtMTYweiIgZmlsbD0idXJsKCNOZXdfR3JhZGllbnRfU3dhdGNoXzItNykiLz48L2c+PC9zdmc+" />
                You've tried: ${model.triedTimes} times
            </li>
        </ul>
        <button class='btnReplay'>Let's play agin!</button>
        `;
    const cards = document.querySelector("#cards");
    cards.before(div);
  }
};
//#endregion

//#region  MVC模式之M-model物件(與資料相關程式歸類處)
const model = {
  //屬性：已翻正面卡牌的暫存陣列
  revealedCards: [],

  /**判斷revealedCards屬性的陣列內容是否相同
   * 相同回傳true，不同回傳false
   */
  isRevealedCardsMatched() {
    return (
      this.revealedCards[0].dataset.index % 13 ===
      this.revealedCards[1].dataset.index % 13
    );
  },

  //屬性：回合
  round: 0,

  //屬性：成績
  score: 0,

  //屬性：嘗試次數
  triedTimes: 0
};
//#endregion

//#region MVC模式之C-controller物件(與流程控制相關程式歸類處)
const controller = {
  //屬性：目前遊戲狀態，預設為遊戲狀態的GameStart(遊戲開始)
  currentState: GAME_STATE.GameStart,

  /**屬性：產生卡片(屬性名稱與函式名稱相同，省略屬性名稱)
   * 1. 先呼叫公用程式物件的getRandomNumberArray (陣列長度)( Fisher-Yates Shuffle 洗牌演算法)產生洗牌後的牌面數字陣列
   * 2. 再呼叫view的displayCards (洗牌後的牌面數字陣列)顯示卡片
   */
  generateCards() {
    view.displayCards(utility.getRandomNumberArray(52));
  },

  /**屬性：遊戲開始
   * 1. 回合數等於0
   *      1.1 呼叫view的showGameStart()屬性，顯示遊戲規則
   *      1.2 開始遊戲按鈕掛載click事件監聽器，執行controller的listenerToStart(遊戲規則div)屬性
   * 2. 回合數不等於0
   *      2.1 呼叫view的showGameStart()屬性，顯示遊戲結束
   *      2.2 再次遊戲按鈕掛載click事件監聽器，執行
   *            (1) 卡片區域清空與重新產生卡片
   *            (2) 執行controller的listenerToStart(遊戲結束div)
   *           (3) 畫面的總分與嘗試次數歸0
   */
  gameStart() {
    if (model.round === 0) {
      view.showGameStart();
      const divGameStart = document.querySelector(".start");
      const btnGameStart = document.querySelector(".btnStart");
      btnGameStart.addEventListener("click", function () {
        controller.listenerToStart(divGameStart);
      });
    } else {
      view.showGameFinished();
      const divComplete = document.querySelector(".completed");
      const btnReplay = document.querySelector(".btnReplay");
      btnReplay.addEventListener("click", (event) => {
        document.querySelector("#cards").innerHTML = null;
        this.generateCards();
        this.listenerToStart(divComplete);
        view.renderScore((model.score = 0));
        view.renderTriedTimes((model.triedTimes = 0));
      });
    }
  },

  /**屬性：開始遊戲按鈕click主執行動作
   * 1. 目前遊戲狀態更改為FirstCardAwaits(等待第一張卡片被翻)
   * 2. 移除遊戲規則div
   * 3.呼叫view的renderRound(model的round+1)顯示第幾回合
   * 4. 每張卡片皆掛載click事件監聽器，執行controller的dispatchCardAction(單一卡牌)
   * @param {*} div 顯示遊戲規則或遊戲結束的div
   */
  listenerToStart(div) {
    this.currentState = GAME_STATE.FirstCardAwaits;
    document.body.removeChild(div);
    view.renderRound(++model.round);
    document.querySelectorAll(".card").forEach((card) => {
      card.addEventListener("click", function () {
        controller.dispatchCardAction(card);
      });
    });
  },

  /**屬性：卡牌觸發行為
   * 1. 卡牌的class不包含'back'，代表已點擊該卡牌，跳出此函式
   * 2. switch case break 判斷目前遊戲狀態，進行相對應的行動
   *      2.1 目前遊戲狀態為FirstCardAwaits(等待第一張卡被翻牌)
   *            2.1.1 呼叫view的flipCards(第一張被點擊的卡牌html結構)屬性，顯示該牌正面
   *            2.1.2 呼叫model的revealedCards屬性，將該牌的html結構push至revealedCards屬性的陣列
   *            2.1.3 將目前遊戲狀態更改為SecondCardAwaits(等待第二張卡被翻牌)
   *            2.1.4 跳出
   *      2.2 目前遊戲狀態為SecondCardAwaits(等待第二張卡被翻牌)
   *            2.2.1 呼叫view的renderTriedTimes(model的triedTimes屬性值加1)屬性，顯示總嘗試次數
   *            2.2.2 呼叫view的flipCards(第二張被點擊的卡牌html結構)屬性，顯示該牌正面
   *            2.2.3 呼叫model的revealedCards屬性，將該牌的html結構push至revealedCards屬性的陣列
   *            2.2.4 呼叫model的isRevealedCardsMatched()屬性，判斷是否配對成功
   *                     2.2.4.1 配對成功
   *                                2.2.4.1.1 呼叫view的renderScore(model的score屬性值 + 10)，顯示總分
   *                                2.2.4.1.2 目前遊戲狀態更改為CardsMatched (卡牌配對成功)
   *                                2.2.4.1.3 呼叫view的pairCards(model的revealedCards屬性的卡牌html結構陣列)屬性，新增配對成功的class
   *                                2.2.4.1.4 model的revealedCards(已翻正面卡牌的暫存陣列)清空
   *                                2.2.4.1.5 model的總分=260時
   *                                              2.2.4.1.5.1 目前遊戲狀態更改為GameFinished(遊戲結束)
   *                                              2.2.4.1.5.2 呼叫gameStart()
   *                                2.2.4.1.6 跳出
   *                    2.2.4.2 配對失敗
   *                                2.2.4.2.1 目前遊戲狀態更改為CardsMatchFailed(卡牌配對失敗)
   *                                2.2.4.2.2 呼叫view的appendWrongAnimation(model的revealedCards屬性的卡牌html結構陣列)屬性，新增配對失敗的class
   *                                2.2.4.2.3 藉由setTimeout(執行所屬物件的resetCards屬性，上一個動作停留1000毫秒)，將上一個動作停留1000毫秒後，再執行resetCards
   * @param {*} card 單一卡牌
   */
  dispatchCardAction(card) {
    if (!card.classList.contains("back")) return;

    switch (this.currentState) {
      case GAME_STATE.FirstCardAwaits:
        view.flipCards(card);
        model.revealedCards.push(card);
        this.currentState = GAME_STATE.SecondCardAwaits;
        break;

      case GAME_STATE.SecondCardAwaits:
        view.renderTriedTimes(++model.triedTimes);
        view.flipCards(card);
        model.revealedCards.push(card);

        if (model.isRevealedCardsMatched()) {
          view.renderScore((model.score += 10));
          this.currentState = GAME_STATE.CardsMatched;
          view.pairCards(model.revealedCards);
          model.revealedCards = [];

          if (model.score === 260) {
            this.currentState = GAME_STATE.GameFinished;
            this.gameStart();
            return;
          }

          this.currentState = GAME_STATE.FirstCardAwaits;
        } else {
          this.currentState = GAME_STATE.CardsMatchFailed;
          view.appendWrongAnimation(model.revealedCards);
          setTimeout(this.resetCards, 1000);
        }
        break;
    }
  },

  /**屬性：卡牌翻回重置
   * 1. 呼叫view的flipCards(藉由 ... 將model的revealedCards屬性的陣列轉為數個值)
   * 2. model的revealedCards(已翻正面卡牌的暫存陣列)清空
   * 3. 因無傳入值，所以不能以this的方式指定目前遊戲狀態的所屬物件(此時的this指的是整份Window)，
   *     需以controller.currentState更改目前遊戲狀態為FirstCardAwaits(等待第一張卡片被翻牌)
   */
  resetCards() {
    view.flipCards(...model.revealedCards);
    model.revealedCards = [];
    controller.currentState = GAME_STATE.FirstCardAwaits;
  }
};
//#endregion

//#region 公用外掛函式物件
const utility = {
  /**屬性：Fisher-Yates Shuffle 洗牌演算法
   * 1. 生成一個長度為 count 的連續數字陣列
   *      1.1 Array(count)-->產生長度為count的空陣列
   *      1.2 Array(count).key()-->取出Array(count)(長度為count的空陣列)的所有index數值(0~count-1)
   *      1.3 利用Array.from()將取出的所有index數值變為數字陣列[0,1,2,.....,count-1]
   * 2. for迴圈持續進行將數字陣列最後一項與前面隨機一項進行位置交換，直到全部交換(也就是數字陣列最後一項的索引值為0)完畢
   *      2.1 先取出數字陣列最後一項索引值(let index = number.length - 1)
   *      2.2 再隨機取出任一項目索引值(let randomIndex = Math.floor(Math.random() * (index + 1));)
   *      2.3 運用ES6 的解構賦值語法交換陣列內元素([number[index], number[randomIndex]] = [number[randomIndex], number[index]])
   * 3. 回傳洗牌後的數字陣列
   * @param {*} count 陣列長度
   */
  getRandomNumberArray(count) {
    const number = Array.from(Array(count).keys());
    for (let index = number.length - 1; index > 0; index--) {
      let randomIndex = Math.floor(Math.random() * (index + 1));
      [number[index], number[randomIndex]] = [number[randomIndex],number[index]];
    }
    return number;
  }
};
//#endregion

/*--JS開始執行--*/
//1. 產生卡牌
controller.generateCards();
//2. 遊戲開始
controller.gameStart();
